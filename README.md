# üöñ Taxi Application Documentation

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. git
2. docker

1. –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ```https://github.com/chas3air/Taxi-executor.git```
2. –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –≥–¥–µ –ª–µ–∂–∏—Ç —Ñ–∞–π–ª docker-compose.yml, –≤—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—É:  
   `docker-compose up -d`  
   –≠—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–µ.  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `docker ps` –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —á–µ—Ä–µ–∑ `docker-compose logs -f`.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞
- API Gateway: http://localhost:80  
  –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤–µ–±-–∫–ª–∏–µ–Ω—Ç). –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º.

- User Service: REST http://localhost:8082, gRPC localhost:50052, –º–µ—Ç—Ä–∏–∫–∏ http://localhost:9090/metrics  
- Auth Service: REST http://localhost:8083, gRPC localhost:50053, –º–µ—Ç—Ä–∏–∫–∏ http://localhost:9091/metrics  
- Driver Service: REST http://localhost:8084, gRPC localhost:50054, –º–µ—Ç—Ä–∏–∫–∏ http://localhost:9097/metrics  
- Order Service: REST http://localhost:8085, gRPC localhost:50055, –º–µ—Ç—Ä–∏–∫–∏ http://localhost:9093/metrics  
- Wallet Service: REST http://localhost:8086, gRPC localhost:50056, –º–µ—Ç—Ä–∏–∫–∏ http://localhost:9094/metrics  

- Kafka UI: http://localhost:8081 ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–æ–ø–∏–∫–æ–≤ Kafka, —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–Ω—Å—É–º–µ—Ä–æ–≤.  
- Prometheus: http://localhost:9095 ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.  
- Grafana: http://localhost:3000 ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫, –ª–æ–≥–∏–Ω admin/admin.  
- Elasticsearch: http://localhost:9200 ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤.

---

## –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ User Service. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Auth Service, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–µ—Ç access_token –∏ refresh_token.  
2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è–º–∏. –í–æ–¥–∏—Ç–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ Driver Service, –∏—Ö —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ REST API.  
3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞. –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ Order Service. –ó–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Postgres (outbox) –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ Elasticsearch. Kafka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.  
4. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è. Order Service —Å–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑ —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ Driver Service. Kafka —É–≤–µ–¥–æ–º–ª—è–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –æ —Å–æ–±—ã—Ç–∏–∏.  
5. –û–ø–ª–∞—Ç–∞. –ü–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Wallet Service. –ë–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Postgres, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è. Kafka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–±—ã—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞).  
6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥. –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –æ—Ç–¥–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ /metrics. Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö, Grafana –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤, –æ—à–∏–±–∫–∏, –∑–∞–¥–µ—Ä–∂–∫–∏).

---

## –ö—É–¥–∞ –∑–∞—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- API Gateway: http://localhost:80 ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≤—Ö–æ–¥ –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤.  
- Kafka UI: http://localhost:8081 ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä Kafka —Ç–æ–ø–∏–∫–æ–≤ –∏ —Å–æ–±—ã—Ç–∏–π.  
- Prometheus: http://localhost:9095 ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –≤ —Å—ã—Ä–æ–º –≤–∏–¥–µ.  
- Grafana: http://localhost:3000 ‚Äî –¥–∞—à–±–æ—Ä–¥—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.  
- Elasticsearch: http://localhost:9200 ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∫ –∑–∞–∫–∞–∑–∞–º.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ö–ª–∏–µ–Ω—Ç ‚Üí API Gateway ‚Üí –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (User, Auth, Driver, Order, Wallet).  
Order –∏ Driver –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ Kafka.  
User –∏ Driver –∏—Å–ø–æ–ª—å–∑—É—é—Ç MongoDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. 
Order –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ Elasticsearch.  
Auth –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤.  
–ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –ø–∏—à–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ /metrics, Prometheus –∏—Ö —Å–æ–±–∏—Ä–∞–µ—Ç, Grafana –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç.
Kafka UI –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–±—ã—Ç–∏—è.  

---
